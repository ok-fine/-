Tue, 26 Nov 2019 07:49:35 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
events.js:167
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::80
    at Server.setupListenHandle [as _listen2] (net.js:1290:14)
    at listenInCluster (net.js:1338:12)
    at Server.listen (net.js:1425:7)
    at Function.listen (/home/ubuntu/hutao/Back-end/node_modules/express/lib/application.js:618:24)
    at Object.<anonymous> (/home/ubuntu/hutao/Back-end/server.js:11:8)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)
Emitted 'error' event at:
    at emitErrorNT (net.js:1317:8)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    at Function.Module.runMain (internal/modules/cjs/loader.js:745:11)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)
Tue, 26 Nov 2019 07:51:37 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
events.js:167
      throw er; // Unhandled 'error' event
      ^

Error: listen EACCES: permission denied 0.0.0.0:80
    at Server.setupListenHandle [as _listen2] (net.js:1273:19)
    at listenInCluster (net.js:1338:12)
    at Server.listen (net.js:1425:7)
    at Function.listen (/home/ubuntu/hutao/Back-end/node_modules/express/lib/application.js:618:24)
    at Object.<anonymous> (/home/ubuntu/hutao/Back-end/server.js:11:8)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)
Emitted 'error' event at:
    at emitErrorNT (net.js:1317:8)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    at Function.Module.runMain (internal/modules/cjs/loader.js:745:11)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)
Tue, 03 Dec 2019 10:36:42 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000239
[ RowDataPacket {
    item_no: '0000000000000239',
    student_no: '201711020325',
    title: '就是说',
    description: '我换了',
    price: 15,
    status: '已发布',
    publish_time: '2019-12-01 19:12:11',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000239',
       student_no: '201711020325',
       title: '就是说',
       description: '我换了',
       price: 15,
       status: '已发布',
       publish_time: '2019-12-01 19:12:11',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000239_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000239_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000239', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
已发布
1
{ code: '0070',
  message: '生成订单信息成功',
  data: [ RowDataPacket { order_no: '0000000000000104' } ] }
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000239',
    exchange_time: '2019-12-03 18:40:50',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '就是说',
    item_price: 15,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"xL22gT0w15NiMVN4ejKvLQ==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:xL22gT0w15NiMVN4ejKvLQ==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"qpUaxqbE+hryeiVDvaeMlA==","openid":"o_O0g5bhC97ha7UVKd9Yk-uaBuTE"}
session_key:qpUaxqbE+hryeiVDvaeMlA==
openid:o_O0g5bhC97ha7UVKd9Yk-uaBuTE
data.length=0
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"qpUaxqbE+hryeiVDvaeMlA==","openid":"o_O0g5bhC97ha7UVKd9Yk-uaBuTE"}
session_key:qpUaxqbE+hryeiVDvaeMlA==
openid:o_O0g5bhC97ha7UVKd9Yk-uaBuTE
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' ORDER BY seller_credit DESC LIMIT ?, ?
[ 0, 8 ]
price:0
credit:2
SELECT * FROM published_item WHERE title LIKE '%%' ORDER BY seller_credit LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":4015304704184116000,"direction":3,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000002,"average":0.998405,"min":0.996231}},{"words":"长城校园卡","probability":{"variance":0,"average":0.999475,"min":0.998441}},{"words":" HUNAN UNIVERSITY","probability":{"variance":0.000001,"average":0.999219,"min":0.998438}},{"words":"姓名:张祖瑜","probability":{"variance":0.000001,"average":0.999177,"min":0.997126}},{"words":"学号:201726010227","probability":{"variance":0,"average":0.999328,"min":0.998381}},{"words":"卡号:137112","probability":{"variance":0.000002,"average":0.999188,"min":0.995459}},{"words":"中國銀行","probability":{"variance":0.005983,"average":0.945069,"min":0.811819}},{"words":" BANK OF CHINA","probability":{"variance":0.000003,"average":0.998678,"min":0.996033}}]}
{ code: '0072', message: '用户学生证匹配成功' }
Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at ServerResponse.setHeader (_http_outgoing.js:470:11)
    at ServerResponse.header (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:771:10)
    at ServerResponse.send (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:170:12)
    at ServerResponse.json (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:267:15)
    at /home/ubuntu/hutao/Back-end/model/check_card.js:48:14
    at process._tickCallback (internal/process/next_tick.js:68:7)
{ code: '0001', message: '网络错误' }
(node:20124) UnhandledPromiseRejectionWarning: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at ServerResponse.setHeader (_http_outgoing.js:470:11)
    at ServerResponse.header (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:771:10)
    at ServerResponse.send (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:170:12)
    at ServerResponse.json (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:267:15)
    at /home/ubuntu/hutao/Back-end/model/check_card.js:58:14
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:20124) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:20124) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":9925551505001,"timestamp":1575370561,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"b9779ed39d7e5df538e1f5a2b3fabc87","location":{"left":73.32,"top":278.32,"width":348,"height":343,"rotation":0},"face_probability":1,"angle":{"yaw":-6.91,"pitch":20.17,"roll":-0.11},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":9405651535755,"timestamp":1575370562,"cached":0,"result":{"score":84.97284698,"face_list":[{"face_token":"b9779ed39d7e5df538e1f5a2b3fabc87"},{"face_token":"9c000736fb9ff7d67f7c28ad0baafa49"}]}}
{ code: '0074', message: '用户人脸匹配成功' }
查找session_key和openid成功
RowDataPacket {
  session_key: '9Dp7+KOmSd07YbxZNiSHJw==',
  openid: 'o_O0g5bhC97ha7UVKd9Yk-uaBuTE' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"KwYS3ZjLOydXV\/oMNr2iaQ==","openid":"o_O0g5bhC97ha7UVKd9Yk-uaBuTE"}
session_key:KwYS3ZjLOydXV/oMNr2iaQ==
openid:o_O0g5bhC97ha7UVKd9Yk-uaBuTE
statusCode: 200
{"session_key":"KwYS3ZjLOydXV\/oMNr2iaQ==","openid":"o_O0g5bhC97ha7UVKd9Yk-uaBuTE"}
session_key:KwYS3ZjLOydXV/oMNr2iaQ==
openid:o_O0g5bhC97ha7UVKd9Yk-uaBuTE
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000239',
    exchange_time: '2019-12-03 18:40:50',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '就是说',
    item_price: 15,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
0000000000000239
[ RowDataPacket {
    item_no: '0000000000000239',
    student_no: '201711020325',
    title: '就是说',
    description: '我换了',
    price: 15,
    status: '待付款',
    publish_time: '2019-12-01 19:12:11',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000239',
       student_no: '201711020325',
       title: '就是说',
       description: '我换了',
       price: 15,
       status: '待付款',
       publish_time: '2019-12-01 19:12:11',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000239_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000239_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000239', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
jinru 
[ RowDataPacket {
    buyer_no: '201711020325',
    seller_no: '201726010227',
    address_no: '0000000000000001',
    item_no: '0000000000000231',
    exchange_time: '2019-12-01 19:16:20',
    seller_name: '张雄爱小可乐',
    buyer_name: '想不出名字',
    item_title: '哦哦哦',
    item_price: 100,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ]
0000000000000231
[ RowDataPacket {
    item_no: '0000000000000231',
    student_no: '201726010227',
    title: '哦哦哦',
    description: '哦哦哦',
    price: 100,
    status: '已卖出',
    publish_time: '2019-11-24 08:21:05',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000231',
       student_no: '201726010227',
       title: '哦哦哦',
       description: '哦哦哦',
       price: 100,
       status: '已卖出',
       publish_time: '2019-11-24 08:21:05',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000231_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000231_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000231', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ description: '小编今生今世',
  dormitory: '天马园区',
  count: '1',
  img_count: '2',
  type: '生活用品',
  student_no: '201711020325',
  title: '这还是',
  price: '12',
  publish_time: '2019-12-03 18:58:19',
  campus: '南校区',
  grade: '10',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201711020325
newName/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000244_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000244' }
{ student_no: '201711020325',
  item_no: '0000000000000244',
  count: '2' }
item_no0000000000000244
img_path/home/ubuntu/hutao/Back-end/images/item/201711020325
newName/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000244_2.JPG
{ code: '0027', message: '图片2上传成功' }
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000239',
    exchange_time: '2019-12-03 18:40:50',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '就是说',
    item_price: 15,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"nsibf6b1TCfTjAEffbxjxg==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:nsibf6b1TCfTjAEffbxjxg==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 18:58:19',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 18:58:19',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 18:58:19',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 18:58:19',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
jinru 
[ RowDataPacket {
    buyer_no: '201711020325',
    seller_no: '201726010227',
    address_no: '0000000000000001',
    item_no: '0000000000000231',
    exchange_time: '2019-12-01 19:16:20',
    seller_name: '张雄爱小可乐',
    buyer_name: '想不出名字',
    item_title: '哦哦哦',
    item_price: 100,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ]
0000000000000231
[ RowDataPacket {
    item_no: '0000000000000231',
    student_no: '201726010227',
    title: '哦哦哦',
    description: '哦哦哦',
    price: 100,
    status: '已卖出',
    publish_time: '2019-11-24 08:21:05',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000231',
       student_no: '201726010227',
       title: '哦哦哦',
       description: '哦哦哦',
       price: 100,
       status: '已卖出',
       publish_time: '2019-11-24 08:21:05',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000231_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000231_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000231', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
0000000000000231
[ RowDataPacket {
    item_no: '0000000000000231',
    student_no: '201726010227',
    title: '哦哦哦',
    description: '哦哦哦',
    price: 100,
    status: '已卖出',
    publish_time: '2019-11-24 08:21:05',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000231',
       student_no: '201726010227',
       title: '哦哦哦',
       description: '哦哦哦',
       price: 100,
       status: '已卖出',
       publish_time: '2019-11-24 08:21:05',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000231_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000231_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000231', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 4)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ student_no: '201726010227',
  img_count: '1',
  price: '2000',
  publish_time: '2019-12-03 18:59:41',
  campus: '南校区',
  dormitory: '天马园区',
  grade: '10',
  count: '1',
  description: '发布',
  title: '132456',
  type: '生活用品',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201726010227
newName/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000245_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000245' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 5)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
0000000000000245
[ RowDataPacket {
    item_no: '0000000000000245',
    student_no: '201726010227',
    title: '132456',
    description: '发布',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-03 18:59:41',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000245',
       student_no: '201726010227',
       title: '132456',
       description: '发布',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-03 18:59:41',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000245_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000245', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
[ RowDataPacket { img_count: 1 } ]
1
/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000245_1.JPG
0000000000000231
[ RowDataPacket {
    item_no: '0000000000000231',
    student_no: '201726010227',
    title: '哦哦哦',
    description: '哦哦哦',
    price: 100,
    status: '已卖出',
    publish_time: '2019-11-24 08:21:05',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000231',
       student_no: '201726010227',
       title: '哦哦哦',
       description: '哦哦哦',
       price: 100,
       status: '已卖出',
       publish_time: '2019-11-24 08:21:05',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000231_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000231_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000231', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 6)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 18:58:19',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 18:58:19',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
jinru留言
{ code: '0022',
  message: '留言成功',
  data: [ RowDataPacket { mes_no: '0000000000000138' } ] }
{ student_no: '201726010227',
  img_count: '1',
  price: '2000',
  publish_time: '2019-12-03 19:00:40',
  campus: '南校区',
  dormitory: '天马园区',
  grade: '10',
  count: '1',
  description: '1234568',
  title: '132456',
  type: '生活用品',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201726010227
newName/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000246_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000246' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
jinru留言
{ code: '0022',
  message: '留言成功',
  data: [ RowDataPacket { mes_no: '0000000000000139' } ] }
[ RowDataPacket { img_count: 1 } ]
1
/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000246_1.JPG
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ code: '0023', message: '收藏成功', data: [] }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000231
[ RowDataPacket {
    item_no: '0000000000000231',
    student_no: '201726010227',
    title: '哦哦哦',
    description: '哦哦哦',
    price: 100,
    status: '已卖出',
    publish_time: '2019-11-24 08:21:05',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000231',
       student_no: '201726010227',
       title: '哦哦哦',
       description: '哦哦哦',
       price: 100,
       status: '已卖出',
       publish_time: '2019-11-24 08:21:05',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000231_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000231_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000231', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"HxBPNa4XGwM+3JP62sn\/Fw==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:HxBPNa4XGwM+3JP62sn/Fw==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 18:58:19',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 18:58:19',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 10 } ],
  messages: { data: [ [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 18:58:19',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 18:58:19',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 10 } ],
  messages: { data: [ [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"HxBPNa4XGwM+3JP62sn\/Fw==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:HxBPNa4XGwM+3JP62sn/Fw==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000239
[ RowDataPacket {
    item_no: '0000000000000239',
    student_no: '201711020325',
    title: '就是说',
    description: '我换了',
    price: 15,
    status: '已发布',
    publish_time: '2019-12-01 19:12:11',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000239',
       student_no: '201711020325',
       title: '就是说',
       description: '我换了',
       price: 15,
       status: '已发布',
       publish_time: '2019-12-01 19:12:11',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000239_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000239_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000239', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 7)
RowDataPacket {
  item_no: '0000000000000244',
  student_no: '201711020325',
  title: '这还是',
  description: '小编今生今世',
  price: 12,
  status: '编辑中',
  publish_time: '2019-12-03 18:58:19',
  campus: '南校区',
  dormitory: '天马园区',
  img_count: 2 }
RowDataPacket {
  item_no: '0000000000000244',
  student_no: '201711020325',
  title: '这还是',
  description: '小编今生今世',
  price: 12,
  status: '编辑中',
  publish_time: '2019-12-03 18:58:19',
  campus: '南校区',
  dormitory: '天马园区',
  img_count: 2 }
RowDataPacket {
  item_no: '0000000000000244',
  student_no: '201711020325',
  title: '这还是',
  description: '小编今生今世',
  price: 12,
  status: '编辑中',
  publish_time: '2019-12-03 18:58:19',
  campus: '南校区',
  dormitory: '天马园区',
  img_count: 2 }
0000000000000244
img_hold:http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG
img_del:
img_del.length:0
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 19:04:17',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 19:04:17',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 5 } ],
  messages: { data: [ [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 19:04:17',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 19:04:17',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 5 } ],
  messages: { data: [ [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 19:04:17',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 19:04:17',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 5 } ],
  messages: { data: [ [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 8)
[ RowDataPacket { img_count: 3 } ]
3
/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG
(node:20124) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, unlink '/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000243_1.JPG'
    at Object.unlinkSync (fs.js:952:3)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:147:16
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 9)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000244
[ RowDataPacket {
    item_no: '0000000000000244',
    student_no: '201711020325',
    title: '这还是',
    description: '小编今生今世',
    price: 12,
    status: '已发布',
    publish_time: '2019-12-03 19:04:17',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000244',
       student_no: '201711020325',
       title: '这还是',
       description: '小编今生今世',
       price: 12,
       status: '已发布',
       publish_time: '2019-12-03 19:04:17',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000244_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000244_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000244', type: '生活用品', grade: 5 } ],
  messages: { data: [ [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
已发布
1
{ code: '0070',
  message: '生成订单信息成功',
  data: [ RowDataPacket { order_no: '0000000000000105' } ] }
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
undefined
1
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
jinru 
[ RowDataPacket {
    buyer_no: '201711020325',
    seller_no: '201726010227',
    address_no: '0000000000000001',
    item_no: '0000000000000231',
    exchange_time: '2019-12-01 19:16:20',
    seller_name: '张雄爱小可乐',
    buyer_name: '想不出名字',
    item_title: '哦哦哦',
    item_price: 100,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
jinru 
[ RowDataPacket {
    buyer_no: '201726010227',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000244',
    exchange_time: '2019-12-03 19:05:31',
    seller_name: '想不出名字',
    buyer_name: '张雄爱小可乐',
    item_title: '这还是',
    item_price: 12,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000239
[ RowDataPacket {
    item_no: '0000000000000239',
    student_no: '201711020325',
    title: '就是说',
    description: '我换了',
    price: 15,
    status: '已发布',
    publish_time: '2019-12-01 19:12:11',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000239',
       student_no: '201711020325',
       title: '就是说',
       description: '我换了',
       price: 15,
       status: '已发布',
       publish_time: '2019-12-01 19:12:11',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000239_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000239_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000239', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000243
[ RowDataPacket {
    item_no: '0000000000000243',
    student_no: '201711020325',
    title: '化妆品',
    description: '真好用',
    price: 480,
    status: '已发布',
    publish_time: '2019-12-01 19:13:50',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000243',
       student_no: '201711020325',
       title: '化妆品',
       description: '真好用',
       price: 480,
       status: '已发布',
       publish_time: '2019-12-01 19:13:50',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000243_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_2.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000243_3.JPG' ] },
  tag: [],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000239
[ RowDataPacket {
    item_no: '0000000000000239',
    student_no: '201711020325',
    title: '就是说',
    description: '我换了',
    price: 15,
    status: '已发布',
    publish_time: '2019-12-01 19:12:11',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000239',
       student_no: '201711020325',
       title: '就是说',
       description: '我换了',
       price: 15,
       status: '已发布',
       publish_time: '2019-12-01 19:12:11',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000239_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000239_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000239', type: '生活用品', grade: 9 } ],
  messages: { data: [ [RowDataPacket], [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"Vz0MERzHGyZe8evrGS411A==","openid":"o_O0g5Tpoax9B2bnnZkjjlPnenbQ"}
session_key:Vz0MERzHGyZe8evrGS411A==
openid:o_O0g5Tpoax9B2bnnZkjjlPnenbQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"Vz0MERzHGyZe8evrGS411A==","openid":"o_O0g5Tpoax9B2bnnZkjjlPnenbQ"}
session_key:Vz0MERzHGyZe8evrGS411A==
openid:o_O0g5Tpoax9B2bnnZkjjlPnenbQ
data.length=0
{ code: '0034',
  message: '获取个人信息成功',
  data:
   [ RowDataPacket {
       user_name: '想不出名字',
       sex: '保密',
       birthday: 1999-12-04T16:00:00.000Z,
       major: '信息科学与工程学院',
       telephone_number: '12345678911',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ] }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"1M7XQSri9EFzIiRoUyqcVQ==","openid":"o_O0g5bhC97ha7UVKd9Yk-uaBuTE"}
session_key:1M7XQSri9EFzIiRoUyqcVQ==
openid:o_O0g5bhC97ha7UVKd9Yk-uaBuTE
statusCode: 200
{"session_key":"1M7XQSri9EFzIiRoUyqcVQ==","openid":"o_O0g5bhC97ha7UVKd9Yk-uaBuTE"}
session_key:1M7XQSri9EFzIiRoUyqcVQ==
openid:o_O0g5bhC97ha7UVKd9Yk-uaBuTE
{ code: '0034',
  message: '获取个人信息成功',
  data:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       sex: '保密',
       birthday: 1994-12-31T16:00:00.000Z,
       major: '信息科学与工程学院',
       telephone_number: 'null',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ] }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ code: '0034',
  message: '获取个人信息成功',
  data:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       sex: '保密',
       birthday: 1994-12-31T16:00:00.000Z,
       major: '信息科学与工程学院',
       telephone_number: 'null',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ] }
{ code: '0006', message: '用户学生证图片上传成功' }
https://wx.qlogo.cn/mmopen/vi_32/cic6pdNia37hCYCMcP32GfZPXgF05xe0M3UMzEAQ3ywUUcIcxedz2ecUoaFdKZA7ib8BVbpOWP8iaF5Z38ib4XcdXdA/132
{ code: '0008', message: '用户活体照片上传成功' }
{ code: '0034',
  message: '获取个人信息成功',
  data:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       sex: '保密',
       birthday: 1999-01-05T16:00:00.000Z,
       major: '信息科学与工程学院',
       telephone_number: '18893188357',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/7wFXuNjDtbyQ2a639mfict06albHpJyz6iaESgeboNWSZdxxySP6UKr0Hj2hPN58VvBUsC19BQ0nPGcwpDMGtibng/132' } ] }
{ Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10) code: 'ESOCKETTIMEDOUT', connect: false }
{ code: '0001', message: '网络错误' }
(node:20124) UnhandledPromiseRejectionWarning: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at ServerResponse.setHeader (_http_outgoing.js:470:11)
    at ServerResponse.header (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:771:10)
    at ServerResponse.send (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:170:12)
    at ServerResponse.json (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:267:15)
    at /home/ubuntu/hutao/Back-end/model/check_card.js:58:14
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 10)
(node:20124) UnhandledPromiseRejectionWarning: Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10)
(node:20124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 11)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"9AlN0cclGk3hpVLUNlvvog==","openid":"o_O0g5Tpoax9B2bnnZkjjlPnenbQ"}
session_key:9AlN0cclGk3hpVLUNlvvog==
openid:o_O0g5Tpoax9B2bnnZkjjlPnenbQ
data.length=0
statusCode: 200
{"session_key":"9AlN0cclGk3hpVLUNlvvog==","openid":"o_O0g5Tpoax9B2bnnZkjjlPnenbQ"}
session_key:9AlN0cclGk3hpVLUNlvvog==
openid:o_O0g5Tpoax9B2bnnZkjjlPnenbQ
data.length=0
Wed, 11 Dec 2019 17:10:11 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
statusCode: 200
{"session_key":"dU5xb9GtNRaQoetVXtINjw==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:dU5xb9GtNRaQoetVXtINjw==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"sdjrMvF6JIEj+AP4uUivXA==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:sdjrMvF6JIEj+AP4uUivXA==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
statusCode: 200
{"session_key":"TkV8P4z539h\/UbAwtAQdmg==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:TkV8P4z539h/UbAwtAQdmg==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"PkLzl98AKuAc2LbcpWVn4g==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:PkLzl98AKuAc2LbcpWVn4g==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
jinru 
[ RowDataPacket {
    buyer_no: '201711020325',
    seller_no: '201726010205',
    address_no: '0000000000000001',
    item_no: '0000000000000249',
    exchange_time: '2019-12-09 20:32:59',
    seller_name: '小明',
    buyer_name: '想不出名字',
    item_title: '13123',
    item_price: 111,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/9rpAwtJfuJLG8t1xUFKUxN1Jk0qicJUUj1BOGCkWbwACKiaZvELkAvbbVibuwqz5dwS3WJBVO8C4jzzLfl6xozJCA/132' } ]
jinru 
[ RowDataPacket {
    buyer_no: '201711020325',
    seller_no: '201726010205',
    address_no: '0000000000000001',
    item_no: '0000000000000249',
    exchange_time: '2019-12-09 20:32:59',
    seller_name: '小明',
    buyer_name: '想不出名字',
    item_title: '13123',
    item_price: 111,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/9rpAwtJfuJLG8t1xUFKUxN1Jk0qicJUUj1BOGCkWbwACKiaZvELkAvbbVibuwqz5dwS3WJBVO8C4jzzLfl6xozJCA/132' } ]
jinru 
[ RowDataPacket {
    buyer_no: '201711020325',
    seller_no: '201726010205',
    address_no: '0000000000000001',
    item_no: '0000000000000249',
    exchange_time: '2019-12-09 20:32:59',
    seller_name: '小明',
    buyer_name: '想不出名字',
    item_title: '13123',
    item_price: 111,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/9rpAwtJfuJLG8t1xUFKUxN1Jk0qicJUUj1BOGCkWbwACKiaZvELkAvbbVibuwqz5dwS3WJBVO8C4jzzLfl6xozJCA/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000254
[ RowDataPacket {
    item_no: '0000000000000254',
    student_no: '201726010205',
    title: '555',
    description: '555',
    price: 666,
    status: '已发布',
    publish_time: '2019-12-09 20:33:55',
    campus: '北校区',
    dormitory: '望麓桥公寓',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000254',
       student_no: '201726010205',
       title: '555',
       description: '555',
       price: 666,
       status: '已发布',
       publish_time: '2019-12-09 20:33:55',
       campus: '北校区',
       dormitory: '望麓桥公寓',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '小明',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/9rpAwtJfuJLG8t1xUFKUxN1Jk0qicJUUj1BOGCkWbwACKiaZvELkAvbbVibuwqz5dwS3WJBVO8C4jzzLfl6xozJCA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010205/0000000000000254_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000254', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000248
[ RowDataPacket {
    item_no: '0000000000000248',
    student_no: '201711020325',
    title: '比赛时',
    description: '这不算',
    price: 122,
    status: '已发布',
    publish_time: '2019-12-09 20:30:29',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000248',
       student_no: '201711020325',
       title: '比赛时',
       description: '这不算',
       price: 122,
       status: '已发布',
       publish_time: '2019-12-09 20:30:29',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000248_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000248', type: '生活用品', grade: 10 } ],
  messages: { data: [ [RowDataPacket] ] } }
已发布
1
{ code: '0070',
  message: '生成订单信息成功',
  data: [ RowDataPacket { order_no: '0000000000000108' } ] }
jinru 
[ RowDataPacket {
    buyer_no: '201726010205',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000248',
    exchange_time: '2019-12-12 01:47:16',
    seller_name: '想不出名字',
    buyer_name: '小明',
    item_title: '比赛时',
    item_price: 122,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/9rpAwtJfuJLG8t1xUFKUxN1Jk0qicJUUj1BOGCkWbwACKiaZvELkAvbbVibuwqz5dwS3WJBVO8C4jzzLfl6xozJCA/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"E4whaZ0FiChKTpfMUyba9g==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:E4whaZ0FiChKTpfMUyba9g==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"E4whaZ0FiChKTpfMUyba9g==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:E4whaZ0FiChKTpfMUyba9g==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"errcode":40029,"errmsg":"invalid code, hints: [ req_id: BAFFZ44ce-YsPvCA ]"}
session_key:undefined
openid:undefined
data.length=0
{ Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_BAD_NULL_ERROR',
  errno: 1048,
  sqlMessage: 'Column \'session_key\' cannot be null',
  sqlState: '23000',
  index: 0,
  sql:
   'INSERT INTO temp_session(session_key,openid) VALUES(NULL, NULL)' }
(node:28500) UnhandledPromiseRejectionWarning: Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:28500) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:28500) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"bY6eCUUwmiJBTY5s9rN3YQ==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:bY6eCUUwmiJBTY5s9rN3YQ==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
statusCode: 200
{"session_key":"bY6eCUUwmiJBTY5s9rN3YQ==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:bY6eCUUwmiJBTY5s9rN3YQ==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"tspS07P6wfY7SZ4yR3ENig==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:tspS07P6wfY7SZ4yR3ENig==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
statusCode: 200
{"session_key":"tspS07P6wfY7SZ4yR3ENig==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:tspS07P6wfY7SZ4yR3ENig==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
(node:28500) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'length' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/index.js:75:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:28500) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)
statusCode: 200
{"errcode":40029,"errmsg":"invalid code, hints: [ req_id: fDFFB5yFe-mOrkkA ]"}
session_key:undefined
openid:undefined
data.length=0
{ Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_BAD_NULL_ERROR',
  errno: 1048,
  sqlMessage: 'Column \'session_key\' cannot be null',
  sqlState: '23000',
  index: 0,
  sql:
   'INSERT INTO temp_session(session_key,openid) VALUES(NULL, NULL)' }
(node:28500) UnhandledPromiseRejectionWarning: Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:28500) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)
statusCode: 200
{"session_key":"mdUeV67sZZvfdPYPy\/rQYw==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:mdUeV67sZZvfdPYPy/rQYw==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
Thu, 12 Dec 2019 02:08:59 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"3FBczhw2obxMfdPJn87F3w==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:3FBczhw2obxMfdPJn87F3w==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
statusCode: 200
{"session_key":"3FBczhw2obxMfdPJn87F3w==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:3FBczhw2obxMfdPJn87F3w==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000266
[ RowDataPacket {
    item_no: '0000000000000266',
    student_no: '201711020325',
    title: '手机',
    description: '翟卓的好手机',
    price: 100000,
    status: '已发布',
    publish_time: '2019-12-12 08:32:43',
    campus: '北校区',
    dormitory: '德智园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000266',
       student_no: '201711020325',
       title: '手机',
       description: '翟卓的好手机',
       price: 100000,
       status: '已发布',
       publish_time: '2019-12-12 08:32:43',
       campus: '北校区',
       dormitory: '德智园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/XiaFgEcnARPz409N2CHBgKMErg5BGKhVPaY6OGaKkKIRDweqjiacZ1zkdsQeV3KiaW4cYurnx3Mol8lXsd3kYtE9w/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000266_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000266', type: '电子设备', grade: 7 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"2N6K+JcRy3MUgLa0a2wMwg==","openid":"o_O0g5VFa6k5WgrGcgRTJENweNm4"}
session_key:2N6K+JcRy3MUgLa0a2wMwg==
openid:o_O0g5VFa6k5WgrGcgRTJENweNm4
data.length=0
statusCode: 200
{"session_key":"2N6K+JcRy3MUgLa0a2wMwg==","openid":"o_O0g5VFa6k5WgrGcgRTJENweNm4"}
session_key:2N6K+JcRy3MUgLa0a2wMwg==
openid:o_O0g5VFa6k5WgrGcgRTJENweNm4
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
(node:2014) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'length' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/index.js:75:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:2014) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:2014) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"aeY0NzcIRT6zpwSqNECYQA==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:aeY0NzcIRT6zpwSqNECYQA==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"pN5JkXXapdx3krSKevTasA==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:pN5JkXXapdx3krSKevTasA==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
{ description: '神农架时尚呢',
  dormitory: '天马园区',
  count: '1',
  img_count: '2',
  type: '生活用品',
  student_no: '201711020325',
  title: 'try 一 try',
  price: '22',
  publish_time: '2019-12-12 16:42:51',
  campus: '南校区',
  grade: '10',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201711020325
newName/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000271_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000271' }
{ student_no: '201711020325',
  item_no: '0000000000000271',
  count: '2' }
item_no0000000000000271
img_path/home/ubuntu/hutao/Back-end/images/item/201711020325
newName/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000271_2.JPG
{ code: '0027', message: '图片2上传成功' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
statusCode: 200
{"session_key":"pN5JkXXapdx3krSKevTasA==","openid":"o_O0g5UP7hj6bVwgykhIXr03JWwg"}
session_key:pN5JkXXapdx3krSKevTasA==
openid:o_O0g5UP7hj6bVwgykhIXr03JWwg
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"\/oHwlKaY8\/7\/ofoSd7cGNQ==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:/oHwlKaY8/7/ofoSd7cGNQ==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
BadRequestError: request aborted
    at IncomingMessage.onAborted (/home/ubuntu/hutao/Back-end/node_modules/raw-body/index.js:231:10)
    at IncomingMessage.emit (events.js:182:13)
    at abortIncoming (_http_server.js:449:9)
    at socketOnClose (_http_server.js:442:3)
    at Socket.emit (events.js:187:15)
    at TCP._handle.close (net.js:610:12)
statusCode: 200
{"session_key":"lEPPggtYbHtib3Bzm+u1jg==","openid":"o_O0g5XFxUsZqbMMs7w7LV1qrAZk"}
session_key:lEPPggtYbHtib3Bzm+u1jg==
openid:o_O0g5XFxUsZqbMMs7w7LV1qrAZk
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"errcode":40029,"errmsg":"invalid code, hints: [ req_id: PEgFm24ce-BpXXGA ]"}
session_key:undefined
openid:undefined
data.length=0
{ Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_BAD_NULL_ERROR',
  errno: 1048,
  sqlMessage: 'Column \'session_key\' cannot be null',
  sqlState: '23000',
  index: 0,
  sql:
   'INSERT INTO temp_session(session_key,openid) VALUES(NULL, NULL)' }
(node:2014) UnhandledPromiseRejectionWarning: Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:2014) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"errcode":40029,"errmsg":"invalid code, hints: [ req_id: SEgFZ8yFe-7L9dna ]"}
session_key:undefined
openid:undefined
data.length=0
{ Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_BAD_NULL_ERROR',
  errno: 1048,
  sqlMessage: 'Column \'session_key\' cannot be null',
  sqlState: '23000',
  index: 0,
  sql:
   'INSERT INTO temp_session(session_key,openid) VALUES(NULL, NULL)' }
(node:2014) UnhandledPromiseRejectionWarning: Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:2014) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
Fri, 13 Dec 2019 02:40:45 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"8Y\/2j46O9FPA7WACv2XDfw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:8Y/2j46O9FPA7WACv2XDfw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"8Y\/2j46O9FPA7WACv2XDfw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:8Y/2j46O9FPA7WACv2XDfw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
/home/ubuntu/hutao/Back-end/images/student_card/201726010214_1.JPG
{ code: '0006', message: '用户学生证图片上传成功' }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:32488) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":4565756584795,"timestamp":1576205005,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"aab56e268f166398044820666c215d04","location":{"left":284.75,"top":480.72,"width":416,"height":440,"rotation":0},"face_probability":1,"angle":{"yaw":1.56,"pitch":5.7,"roll":-1.95},"liveness":{"livemapscore":1}}]}}
(node:32488) UnhandledPromiseRejectionWarning: Error: ENOENT: no such file or directory, open '/home/ubuntu/hutao/Back-end/images/student_card/201726010214_1.JPG'
    at Object.openSync (fs.js:439:3)
    at Object.readFileSync (fs.js:344:35)
    at /home/ubuntu/hutao/Back-end/model/check_face.js:36:42
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:32488) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:32488) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
Fri, 13 Dec 2019 06:06:32 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
Fri, 13 Dec 2019 06:33:17 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"G+SC8moFU+uR\/YpY5++Wgg==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:G+SC8moFU+uR/YpY5++Wgg==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:32033) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":2510184252520,"timestamp":1576221927,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"1b575607599f21f22990263618df6ef8","location":{"left":114.29,"top":295.7,"width":322,"height":348,"rotation":-2},"face_probability":1,"angle":{"yaw":1.61,"pitch":8.75,"roll":-3.75},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":599101658400,"timestamp":1576221928,"cached":0,"result":{"score":36.05045319,"face_list":[{"face_token":"1b575607599f21f22990263618df6ef8"},{"face_token":"8f2341b37218746d55cf3d145a25af12"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":1018405001551,"timestamp":1576221938,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"720a775c279954cd43df0ebad79d1add","location":{"left":150.53,"top":268.63,"width":302,"height":329,"rotation":-1},"face_probability":1,"angle":{"yaw":0.6,"pitch":8.02,"roll":-3.1},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":9494257965895,"timestamp":1576221938,"cached":0,"result":{"score":43.04074097,"face_list":[{"face_token":"720a775c279954cd43df0ebad79d1add"},{"face_token":"8f2341b37218746d55cf3d145a25af12"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":8484352018984,"timestamp":1576221950,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"fd450dcb67ef70f4409f65ec53486e11","location":{"left":93.49,"top":324.98,"width":305,"height":331,"rotation":0},"face_probability":1,"angle":{"yaw":0.19,"pitch":3.53,"roll":-3.1},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":3520110120135,"timestamp":1576221951,"cached":0,"result":{"score":46.93291855,"face_list":[{"face_token":"fd450dcb67ef70f4409f65ec53486e11"},{"face_token":"8f2341b37218746d55cf3d145a25af12"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":8915890019900,"timestamp":1576221964,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"fc4d74c606880cbdaed67e3ddf577b8f","location":{"left":145.68,"top":308.72,"width":286,"height":309,"rotation":0},"face_probability":1,"angle":{"yaw":4.76,"pitch":4.59,"roll":-4.56},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":2515758999843,"timestamp":1576221965,"cached":0,"result":{"score":61.06773758,"face_list":[{"face_token":"fc4d74c606880cbdaed67e3ddf577b8f"},{"face_token":"8f2341b37218746d55cf3d145a25af12"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"G+SC8moFU+uR\/YpY5++Wgg==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:G+SC8moFU+uR/YpY5++Wgg==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":6599259925156,"timestamp":1576222002,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"9ac0a743c31611e6b8e68d85e070dd9e","location":{"left":124.31,"top":281.01,"width":341,"height":364,"rotation":0},"face_probability":1,"angle":{"yaw":-2.84,"pitch":7.31,"roll":-2.01},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":12018445657,"timestamp":1576222002,"cached":0,"result":{"score":50.91651917,"face_list":[{"face_token":"9ac0a743c31611e6b8e68d85e070dd9e"},{"face_token":"8f2341b37218746d55cf3d145a25af12"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":19979158484,"timestamp":1576222016,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"eb4813264d1e3a0e67c944b4ef0adb29","location":{"left":88.65,"top":230.5,"width":211,"height":220,"rotation":-2},"face_probability":1,"angle":{"yaw":8.06,"pitch":6.22,"roll":-6.98},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":9999258945758,"timestamp":1576222016,"cached":0,"result":{"score":2.069095612,"face_list":[{"face_token":"eb4813264d1e3a0e67c944b4ef0adb29"},{"face_token":"8f2341b37218746d55cf3d145a25af12"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
{ student_no: '201726010227',
  img_count: '3',
  price: '500',
  publish_time: '2019-12-13 15:28:04',
  campus: '南校区',
  dormitory: '天马园区',
  grade: '10',
  count: '1',
  description: '哈士奇有想要的嘛',
  title: '纯种哈士奇',
  type: '生活用品',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201726010227
newName/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000274_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000274' }
{ student_no: '201726010227',
  count: '3',
  item_no: '0000000000000274' }
item_no0000000000000274
img_path/home/ubuntu/hutao/Back-end/images/item/201726010227
newName/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000274_3.JPG
{ code: '0027', message: '图片3上传成功' }
{ student_no: '201726010227',
  count: '2',
  item_no: '0000000000000274' }
item_no0000000000000274
img_path/home/ubuntu/hutao/Back-end/images/item/201726010227
newName/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000274_2.JPG
{ code: '0027', message: '图片2上传成功' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"cI7T3jl6005Zp863Cik3jQ==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:cI7T3jl6005Zp863Cik3jQ==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
statusCode: 200
{"session_key":"cI7T3jl6005Zp863Cik3jQ==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:cI7T3jl6005Zp863Cik3jQ==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
/home/ubuntu/hutao/Back-end/images/student_card/201726010214_1.JPG
{ code: '0006', message: '用户学生证图片上传成功' }
RowDataPacket {
  item_no: '0000000000000274',
  student_no: '201726010227',
  title: '纯种哈士奇',
  description: '哈士奇有想要的嘛',
  price: 500,
  status: '编辑中',
  publish_time: '2019-12-13 15:28:04',
  campus: '南校区',
  dormitory: '天马园区',
  img_count: 3 }
edit_exit
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":18905159455,"timestamp":1576222152,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"cf5d4542de3e93349f4bf53c10a091f5","location":{"left":220.18,"top":295.74,"width":235,"height":245,"rotation":-4},"face_probability":1,"angle":{"yaw":3.72,"pitch":5.15,"roll":-7.81},"liveness":{"livemapscore":1}}]}}
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":3594797510125,"timestamp":1576222172,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"cf5d4542de3e93349f4bf53c10a091f5","location":{"left":220.18,"top":295.74,"width":235,"height":245,"rotation":-4},"face_probability":1,"angle":{"yaw":3.72,"pitch":5.15,"roll":-7.81},"liveness":{"livemapscore":1}}]}}
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:32033) UnhandledPromiseRejectionWarning: Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10)
(node:32033) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:32033) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
(node:32033) UnhandledPromiseRejectionWarning: Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10)
(node:32033) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":1016594001751,"timestamp":1576222245,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"48471d2e31772a0c11fd08a6f83f2dd9","location":{"left":264.32,"top":286.5,"width":272,"height":281,"rotation":-4},"face_probability":1,"angle":{"yaw":2.11,"pitch":7.43,"roll":-5.45},"liveness":{"livemapscore":1}}]}}
<faceverify>: {"error_code":222304,"error_msg":"image size is too large","log_id":3510120199353,"timestamp":1576222271,"cached":0,"result":null}
(node:32033) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'face_liveness' of null
    at /home/ubuntu/hutao/Back-end/model/check_face.js:31:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:32033) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":3525352015510,"timestamp":1576222287,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"4e9d848a66fa22e6637c7a2b0a737f74","location":{"left":210.13,"top":305.83,"width":267,"height":280,"rotation":-2},"face_probability":1,"angle":{"yaw":2.12,"pitch":10.58,"roll":-5.46},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":7965942013545,"timestamp":1576222287,"cached":0,"result":{"score":70.5537262,"face_list":[{"face_token":"48471d2e31772a0c11fd08a6f83f2dd9"},{"face_token":"a28993eb5c1b61f4a88516779b69ff7a"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":2555352011010,"timestamp":1576222309,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"4e9d848a66fa22e6637c7a2b0a737f74","location":{"left":210.13,"top":305.83,"width":267,"height":280,"rotation":-2},"face_probability":1,"angle":{"yaw":2.12,"pitch":10.58,"roll":-5.46},"liveness":{"livemapscore":1}}]}}
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":500125201051,"timestamp":1576222336,"cached":0,"result":{"score":67.99596405,"face_list":[{"face_token":"4e9d848a66fa22e6637c7a2b0a737f74"},{"face_token":"a28993eb5c1b61f4a88516779b69ff7a"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":7579942019955,"timestamp":1576222353,"cached":0,"result":{"score":67.99596405,"face_list":[{"face_token":"4e9d848a66fa22e6637c7a2b0a737f74"},{"face_token":"a28993eb5c1b61f4a88516779b69ff7a"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":7567850976255213000,"direction":0,"words_result_num":7,"words_result":[{"words":"湖南大长城校园卡","probability":{"variance":0.000001,"average":0.999294,"min":0.99719}},{"words":" UNAN UNIVERSITY","probability":{"variance":0.000001,"average":0.999221,"min":0.998442}},{"words":"姓名:何奕希","probability":{"variance":0.018086,"average":0.939212,"min":0.638498}},{"words":"学号:201711020618","probability":{"variance":0.000007,"average":0.998842,"min":0.988958}},{"words":"卡号:135636","probability":{"variance":0.000002,"average":0.99918,"min":0.995479}},{"words":"中國銀行","probability":{"variance":0.02383,"average":0.900908,"min":0.634122}},{"words":" BANK OF CHINA","probability":{"variance":0.004982,"average":0.950091,"min":0.850273}}]}
{ code: '0072', message: '用户学生证匹配成功' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":1525791505455,"timestamp":1576222391,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"59eacf975af98b0a8e53016acf99ecfa","location":{"left":186.77,"top":393.21,"width":231,"height":239,"rotation":1},"face_probability":1,"angle":{"yaw":3.5,"pitch":3.24,"roll":0.68},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":9935998400115,"timestamp":1576222392,"cached":0,"result":{"score":70.09650421,"face_list":[{"face_token":"59eacf975af98b0a8e53016acf99ecfa"},{"face_token":"596f5b7d0ef377ba371b020f40dd9e5e"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":3594946510100,"timestamp":1576222411,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"0c4be529fe36527e58f84fd522ccdf50","location":{"left":201.42,"top":333.7,"width":238,"height":234,"rotation":1},"face_probability":1,"angle":{"yaw":2.5,"pitch":6.48,"roll":0.4},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":9400184758479,"timestamp":1576222412,"cached":0,"result":{"score":74.0198822,"face_list":[{"face_token":"0c4be529fe36527e58f84fd522ccdf50"},{"face_token":"596f5b7d0ef377ba371b020f40dd9e5e"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":6584658979051,"timestamp":1576222435,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"5ad3d088e78eda6b4f30d6939a10daa3","location":{"left":188.58,"top":328.27,"width":250,"height":255,"rotation":0},"face_probability":1,"angle":{"yaw":2.39,"pitch":12.05,"roll":-3.51},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":9425257900105,"timestamp":1576222435,"cached":0,"result":{"score":70.90749359,"face_list":[{"face_token":"5ad3d088e78eda6b4f30d6939a10daa3"},{"face_token":"596f5b7d0ef377ba371b020f40dd9e5e"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":7545753515557,"timestamp":1576222450,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"54caa3693de3a039d7c29e1cbfda4ada","location":{"left":168.16,"top":307.79,"width":301,"height":309,"rotation":4},"face_probability":1,"angle":{"yaw":0.43,"pitch":11.43,"roll":2.04},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":4520165051014,"timestamp":1576222450,"cached":0,"result":{"score":82.09364319,"face_list":[{"face_token":"54caa3693de3a039d7c29e1cbfda4ada"},{"face_token":"596f5b7d0ef377ba371b020f40dd9e5e"}]}}
student_user
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
user_info
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132
{ code: '0011',
  message: '删除session_key和openid成功',
  data:
   OkPacket {
     fieldCount: 0,
     affectedRows: 1,
     insertId: 0,
     serverStatus: 2,
     warningCount: 0,
     message: '',
     protocol41: true,
     changedRows: 0 } }
statusCode: 200
{"session_key":"UNjjzta0GhICAmHOHdFUog==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:UNjjzta0GhICAmHOHdFUog==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ student_no: '201711020618',
  img_count: '1',
  price: '233',
  publish_time: '2019-12-13 15:36:45',
  campus: '南校区',
  dormitory: '天马园区',
  grade: '10',
  count: '1',
  description: 'zhm1',
  title: '测试zhm',
  type: '生活用品',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201711020618
newName/home/ubuntu/hutao/Back-end/images/item/201711020618/0000000000000275_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000275' }
{ [Error: ENOENT: no such file or directory, rename '/home/ubuntu/hutao/Back-end/images/item/upload_611aa8325b4abb82c8c6a103ca195f10.jpg' -> '/home/ubuntu/hutao/Back-end/images/item/201711020618/0000000000000275_1.JPG']
  errno: -2,
  code: 'ENOENT',
  syscall: 'rename',
  path:
   '/home/ubuntu/hutao/Back-end/images/item/upload_611aa8325b4abb82c8c6a103ca195f10.jpg',
  dest:
   '/home/ubuntu/hutao/Back-end/images/item/201711020618/0000000000000275_1.JPG' }
_http_outgoing.js:470
    throw new ERR_HTTP_HEADERS_SENT('set');
    ^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at ServerResponse.setHeader (_http_outgoing.js:470:11)
    at ServerResponse.header (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:771:10)
    at ServerResponse.send (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:170:12)
    at ServerResponse.json (/home/ubuntu/hutao/Back-end/node_modules/express/lib/response.js:267:15)
    at /home/ubuntu/hutao/Back-end/router/second_hand/sell.js:91:29
    at FSReqWrap.oncomplete (fs.js:141:20)
Fri, 13 Dec 2019 08:25:52 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000275
[ RowDataPacket {
    item_no: '0000000000000275',
    student_no: '201711020618',
    title: '测试zhm',
    description: 'zhm1',
    price: 233,
    status: '已发布',
    publish_time: '2019-12-13 15:36:45',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000275',
       student_no: '201711020618',
       title: '测试zhm',
       description: 'zhm1',
       price: 233,
       status: '已发布',
       publish_time: '2019-12-13 15:36:45',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张宏铭',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020618/0000000000000275_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000275', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000275
[ RowDataPacket {
    item_no: '0000000000000275',
    student_no: '201711020618',
    title: '测试zhm',
    description: 'zhm1',
    price: 233,
    status: '已发布',
    publish_time: '2019-12-13 15:36:45',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000275',
       student_no: '201711020618',
       title: '测试zhm',
       description: 'zhm1',
       price: 233,
       status: '已发布',
       publish_time: '2019-12-13 15:36:45',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张宏铭',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020618/0000000000000275_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000275', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
statusCode: 200
{"session_key":"3jyPPdJ39+EKclbewPXyCw==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:3jyPPdJ39+EKclbewPXyCw==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000275
[ RowDataPacket {
    item_no: '0000000000000275',
    student_no: '201711020618',
    title: '测试zhm',
    description: 'zhm1',
    price: 233,
    status: '已发布',
    publish_time: '2019-12-13 15:36:45',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000275',
       student_no: '201711020618',
       title: '测试zhm',
       description: 'zhm1',
       price: 233,
       status: '已发布',
       publish_time: '2019-12-13 15:36:45',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张宏铭',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020618/0000000000000275_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000275', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"VO1Rg8iofF+XIr84CwBd6A==","openid":"oiS9X45z6w8VW1SQsP2OjSiCiwoA"}
session_key:VO1Rg8iofF+XIr84CwBd6A==
openid:oiS9X45z6w8VW1SQsP2OjSiCiwoA
statusCode: 200
{"session_key":"VO1Rg8iofF+XIr84CwBd6A==","openid":"oiS9X45z6w8VW1SQsP2OjSiCiwoA"}
session_key:VO1Rg8iofF+XIr84CwBd6A==
openid:oiS9X45z6w8VW1SQsP2OjSiCiwoA
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ student_no: '201726010227',
  img_count: '1',
  price: '2000',
  publish_time: '2019-12-13 16:29:37',
  campus: '南校区',
  dormitory: '天马园区',
  grade: '10',
  count: '1',
  description: '猫咪没时间养了，希望有好心人可以领走',
  title: '可爱猫咪',
  type: '生活用品',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201726010227
newName/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000276_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000276' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ description: '不想卖的电脑',
  dormitory: '天马园区',
  count: '1',
  img_count: '2',
  type: '电子设备',
  student_no: '201711020325',
  title: '电脑',
  price: '9000',
  publish_time: '2019-12-13 16:29:38',
  campus: '南校区',
  grade: '10',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201711020325
newName/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000277_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000277' }
{ student_no: '201711020325',
  item_no: '0000000000000277',
  count: '2' }
item_no0000000000000277
img_path/home/ubuntu/hutao/Back-end/images/item/201711020325
newName/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000277_2.JPG
{ code: '0027', message: '图片2上传成功' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ student_no: '201726010227',
  img_count: '1',
  price: '10000',
  publish_time: '2019-12-13 16:30:08',
  campus: '南校区',
  dormitory: '天马园区',
  grade: '10',
  count: '1',
  description: '啦啦啦',
  title: '啦啦啦',
  type: '生活用品',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201726010227
newName/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000278_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000278' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
[ RowDataPacket { img_count: 1 } ]
1
/home/ubuntu/hutao/Back-end/images/item/201726010227/0000000000000278_1.JPG
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
{ description: '旧衣服看一下',
  dormitory: '天马园区',
  count: '1',
  img_count: '1',
  type: '学习用品',
  student_no: '201711020325',
  title: '衣服',
  price: '200',
  publish_time: '2019-12-13 16:30:18',
  campus: '南校区',
  grade: '10',
  status: '已发布' }
undefined
img_path:/home/ubuntu/hutao/Back-end/images/item/201711020325
newName/home/ubuntu/hutao/Back-end/images/item/201711020325/0000000000000279_1.JPG
{ code: '0027', message: '图片1上传成功', data: '0000000000000279' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000273
[ RowDataPacket {
    item_no: '0000000000000273',
    student_no: '201711020325',
    title: '哈哈哈',
    description: 'hyx的手机',
    price: 2888,
    status: '已发布',
    publish_time: '2019-12-13 14:32:14',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000273',
       student_no: '201711020325',
       title: '哈哈哈',
       description: 'hyx的手机',
       price: 2888,
       status: '已发布',
       publish_time: '2019-12-13 14:32:14',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000273_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000273', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
0000000000000276
[ RowDataPacket {
    item_no: '0000000000000276',
    student_no: '201726010227',
    title: '可爱猫咪',
    description: '猫咪没时间养了，希望有好心人可以领走',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:37',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000276',
       student_no: '201726010227',
       title: '可爱猫咪',
       description: '猫咪没时间养了，希望有好心人可以领走',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:37',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000276_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000276', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
{ code: '0023', message: '收藏成功', data: [] }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
已发布
1
{ Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_TRUNCATED_WRONG_VALUE_FOR_FIELD',
  errno: 1366,
  sqlMessage:
   'Incorrect integer value: \'\' for column \'address_no\' at row 1',
  sqlState: 'HY000',
  index: 0,
  sql:
   'INSERT INTO order_info(item_no, seller_no, buyer_no, exchange_time, address_no, price) VALUES(\'0000000000000273\', \'201711020325\', \'201711020618\', \'2019-12-13 16:30:28\', \'\', \'2888\')' }
(node:14368) UnhandledPromiseRejectionWarning: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:14368) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
待付款
待付款
待付款
待付款
0000000000000276
[ RowDataPacket {
    item_no: '0000000000000276',
    student_no: '201726010227',
    title: '可爱猫咪',
    description: '猫咪没时间养了，希望有好心人可以领走',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:37',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '1',
  data:
   [ RowDataPacket {
       item_no: '0000000000000276',
       student_no: '201726010227',
       title: '可爱猫咪',
       description: '猫咪没时间养了，希望有好心人可以领走',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:37',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000276_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000276', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
待付款
待付款
待付款
待付款
待付款
待付款
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
0000000000000277
[ RowDataPacket {
    item_no: '0000000000000277',
    student_no: '201711020325',
    title: '电脑',
    description: '不想卖的电脑',
    price: 9000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:38',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000277',
       student_no: '201711020325',
       title: '电脑',
       description: '不想卖的电脑',
       price: 9000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:38',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000277_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000277_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000277', type: '电子设备', grade: 10 } ],
  messages: { data: [] } }
RowDataPacket {
  item_no: '0000000000000279',
  student_no: '201711020325',
  title: '衣服',
  description: '旧衣服看一下',
  price: 200,
  status: '编辑中',
  publish_time: '2019-12-13 16:30:18',
  campus: '南校区',
  dormitory: '天马园区',
  img_count: 1 }
已发布
1
{ Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_TRUNCATED_WRONG_VALUE_FOR_FIELD',
  errno: 1366,
  sqlMessage:
   'Incorrect integer value: \'\' for column \'address_no\' at row 1',
  sqlState: 'HY000',
  index: 0,
  sql:
   'INSERT INTO order_info(item_no, seller_no, buyer_no, exchange_time, address_no, price) VALUES(\'0000000000000277\', \'201711020325\', \'201711020618\', \'2019-12-13 16:30:44\', \'\', \'9000\')' }
(node:14368) UnhandledPromiseRejectionWarning: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)
待付款
待付款
待付款
待付款
待付款
RowDataPacket {
  item_no: '0000000000000279',
  student_no: '201711020325',
  title: '衣服',
  description: '旧衣服看一下',
  price: 200,
  status: '编辑中',
  publish_time: '2019-12-13 16:30:18',
  campus: '南校区',
  dormitory: '天马园区',
  img_count: 1 }
0000000000000279
img_hold:http://132.232.81.249:81/images/item/201711020325/0000000000000279_1.JPG
img_del:
img_del.length:0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"lwYl1Lx2qlaq+bs\/mC7hpQ==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:lwYl1Lx2qlaq+bs/mC7hpQ==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
statusCode: 200
{"session_key":"lwYl1Lx2qlaq+bs\/mC7hpQ==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:lwYl1Lx2qlaq+bs/mC7hpQ==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
已发布
1
{ Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_TRUNCATED_WRONG_VALUE_FOR_FIELD',
  errno: 1366,
  sqlMessage:
   'Incorrect integer value: \'\' for column \'address_no\' at row 1',
  sqlState: 'HY000',
  index: 0,
  sql:
   'INSERT INTO order_info(item_no, seller_no, buyer_no, exchange_time, address_no, price) VALUES(\'0000000000000272\', \'201711020325\', \'201711020618\', \'2019-12-13 16:31:37\', \'\', \'10000\')' }
(node:14368) UnhandledPromiseRejectionWarning: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
待付款
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
Fri, 13 Dec 2019 08:33:00 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
events.js:167
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::80
    at Server.setupListenHandle [as _listen2] (net.js:1290:14)
    at listenInCluster (net.js:1338:12)
    at Server.listen (net.js:1425:7)
    at Function.listen (/home/ubuntu/hutao/Back-end/node_modules/express/lib/application.js:618:24)
    at Object.<anonymous> (/home/ubuntu/hutao/Back-end/server.js:11:8)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)
Emitted 'error' event at:
    at emitErrorNT (net.js:1317:8)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    at Function.Module.runMain (internal/modules/cjs/loader.js:745:11)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)
statusCode: 200
{"session_key":"+PH+TxDRmnIR2d+E6OIlww==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:+PH+TxDRmnIR2d+E6OIlww==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
statusCode: 200
{"session_key":"+PH+TxDRmnIR2d+E6OIlww==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:+PH+TxDRmnIR2d+E6OIlww==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
已发布
1
{ Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_TRUNCATED_WRONG_VALUE_FOR_FIELD',
  errno: 1366,
  sqlMessage:
   'Incorrect integer value: \'\' for column \'address_no\' at row 1',
  sqlState: 'HY000',
  index: 0,
  sql:
   'INSERT INTO order_info(item_no, seller_no, buyer_no, exchange_time, address_no, price) VALUES(\'0000000000000274\', \'201726010227\', \'201726010214\', \'2019-12-13 17:10:16\', \'\', \'500\')' }
(node:14368) UnhandledPromiseRejectionWarning: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: '' for column 'address_no' at row 1
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 4)
待付款
statusCode: 200
{"session_key":"FJilHtUucjSKEJEaEw5jEA==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:FJilHtUucjSKEJEaEw5jEA==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000276
[ RowDataPacket {
    item_no: '0000000000000276',
    student_no: '201726010227',
    title: '可爱猫咪',
    description: '猫咪没时间养了，希望有好心人可以领走',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:37',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000276',
       student_no: '201726010227',
       title: '可爱猫咪',
       description: '猫咪没时间养了，希望有好心人可以领走',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:37',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000276_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000276', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"FJilHtUucjSKEJEaEw5jEA==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:FJilHtUucjSKEJEaEw5jEA==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"9MOQjFGdJuaxLAvwKYV0AQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:9MOQjFGdJuaxLAvwKYV0AQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
0000000000000276
[ RowDataPacket {
    item_no: '0000000000000276',
    student_no: '201726010227',
    title: '可爱猫咪',
    description: '猫咪没时间养了，希望有好心人可以领走',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:37',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000276',
       student_no: '201726010227',
       title: '可爱猫咪',
       description: '猫咪没时间养了，希望有好心人可以领走',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:37',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000276_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000276', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"9MOQjFGdJuaxLAvwKYV0AQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:9MOQjFGdJuaxLAvwKYV0AQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"CJ\/xUGE+ixi+IMZ3v26t5g==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:CJ/xUGE+ixi+IMZ3v26t5g==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
0000000000000276
[ RowDataPacket {
    item_no: '0000000000000276',
    student_no: '201726010227',
    title: '可爱猫咪',
    description: '猫咪没时间养了，希望有好心人可以领走',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:37',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000276',
       student_no: '201726010227',
       title: '可爱猫咪',
       description: '猫咪没时间养了，希望有好心人可以领走',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:37',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000276_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000276', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"CJ\/xUGE+ixi+IMZ3v26t5g==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:CJ/xUGE+ixi+IMZ3v26t5g==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000276
[ RowDataPacket {
    item_no: '0000000000000276',
    student_no: '201726010227',
    title: '可爱猫咪',
    description: '猫咪没时间养了，希望有好心人可以领走',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:37',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000276',
       student_no: '201726010227',
       title: '可爱猫咪',
       description: '猫咪没时间养了，希望有好心人可以领走',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:37',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000276_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000276', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
(node:14368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'length' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/index.js:75:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 5)
statusCode: 200
{"session_key":"QNgS83PjNL64iC1ZpUuzGQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:QNgS83PjNL64iC1ZpUuzGQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"QNgS83PjNL64iC1ZpUuzGQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:QNgS83PjNL64iC1ZpUuzGQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
(node:14368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'length' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/index.js:75:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 6)
statusCode: 200
{"session_key":"QNgS83PjNL64iC1ZpUuzGQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:QNgS83PjNL64iC1ZpUuzGQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"E0MFfkmWmdYgFIGQ8mCGCw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:E0MFfkmWmdYgFIGQ8mCGCw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000273
[ RowDataPacket {
    item_no: '0000000000000273',
    student_no: '201711020325',
    title: '哈哈哈',
    description: 'hyx的手机',
    price: 2888,
    status: '已发布',
    publish_time: '2019-12-13 14:32:14',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000273',
       student_no: '201711020325',
       title: '哈哈哈',
       description: 'hyx的手机',
       price: 2888,
       status: '已发布',
       publish_time: '2019-12-13 14:32:14',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000273_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000273', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000273
[ RowDataPacket {
    item_no: '0000000000000273',
    student_no: '201711020325',
    title: '哈哈哈',
    description: 'hyx的手机',
    price: 2888,
    status: '已发布',
    publish_time: '2019-12-13 14:32:14',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000273',
       student_no: '201711020325',
       title: '哈哈哈',
       description: 'hyx的手机',
       price: 2888,
       status: '已发布',
       publish_time: '2019-12-13 14:32:14',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000273_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000273', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
jinru留言
{ code: '0022',
  message: '留言成功',
  data: [ RowDataPacket { mes_no: '0000000000000149' } ] }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000274
[ RowDataPacket {
    item_no: '0000000000000274',
    student_no: '201726010227',
    title: '纯种哈士奇',
    description: '哈士奇有想要的嘛',
    price: 500,
    status: '已发布',
    publish_time: '2019-12-13 15:28:04',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 3 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000274',
       student_no: '201726010227',
       title: '纯种哈士奇',
       description: '哈士奇有想要的嘛',
       price: 500,
       status: '已发布',
       publish_time: '2019-12-13 15:28:04',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 3 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000274_1.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_2.JPG',
        'http://132.232.81.249:81/images/item/201726010227/0000000000000274_3.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000274', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000276
[ RowDataPacket {
    item_no: '0000000000000276',
    student_no: '201726010227',
    title: '可爱猫咪',
    description: '猫咪没时间养了，希望有好心人可以领走',
    price: 2000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:37',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000276',
       student_no: '201726010227',
       title: '可爱猫咪',
       description: '猫咪没时间养了，希望有好心人可以领走',
       price: 2000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:37',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张雄爱小可乐',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/pbAR8vibA1CUmibHTYc7gk7phDdLcYZyW6L2ccoZ0aPNtk0FHws0hBeAq6YnYXXDhuYeChjh2xA8ujgSg2UhsZjA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010227/0000000000000276_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000276', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000273
[ RowDataPacket {
    item_no: '0000000000000273',
    student_no: '201711020325',
    title: '哈哈哈',
    description: 'hyx的手机',
    price: 2888,
    status: '已发布',
    publish_time: '2019-12-13 14:32:14',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000273',
       student_no: '201711020325',
       title: '哈哈哈',
       description: 'hyx的手机',
       price: 2888,
       status: '已发布',
       publish_time: '2019-12-13 14:32:14',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000273_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000273', type: '生活用品', grade: 10 } ],
  messages: { data: [ [RowDataPacket] ] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
0000000000000277
[ RowDataPacket {
    item_no: '0000000000000277',
    student_no: '201711020325',
    title: '电脑',
    description: '不想卖的电脑',
    price: 9000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:38',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000277',
       student_no: '201711020325',
       title: '电脑',
       description: '不想卖的电脑',
       price: 9000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:38',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000277_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000277_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000277', type: '电子设备', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000273
[ RowDataPacket {
    item_no: '0000000000000273',
    student_no: '201711020325',
    title: '哈哈哈',
    description: 'hyx的手机',
    price: 2888,
    status: '已发布',
    publish_time: '2019-12-13 14:32:14',
    campus: '南校区',
    dormitory: '德智园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000273',
       student_no: '201711020325',
       title: '哈哈哈',
       description: 'hyx的手机',
       price: 2888,
       status: '已发布',
       publish_time: '2019-12-13 14:32:14',
       campus: '南校区',
       dormitory: '德智园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000273_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000273', type: '生活用品', grade: 10 } ],
  messages: { data: [ [RowDataPacket] ] } }
已发布
1
{ code: '0070',
  message: '生成订单信息成功',
  data: [ RowDataPacket { order_no: '0000000000000110' } ] }
jinru 
[ RowDataPacket {
    buyer_no: '201726010214',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000273',
    exchange_time: '2019-12-13 17:25:36',
    seller_name: '想不出名字',
    buyer_name: '小明',
    item_title: '哈哈哈',
    item_price: 2888,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"E0MFfkmWmdYgFIGQ8mCGCw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:E0MFfkmWmdYgFIGQ8mCGCw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
jinru 
[ RowDataPacket {
    buyer_no: '201726010214',
    seller_no: '201711020325',
    address_no: '0000000000000001',
    item_no: '0000000000000273',
    exchange_time: '2019-12-13 17:25:36',
    seller_name: '想不出名字',
    buyer_name: '小明',
    item_title: '哈哈哈',
    item_price: 2888,
    item_campus: '南校区',
    buyer_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132',
    seller_portrait:
     'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 8, 16 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"ttfHArQBu0M+CO\/SO6Jb2A==","openid":"oiS9X45fUbiQP23S1RCTFzYvM6kw"}
session_key:ttfHArQBu0M+CO/SO6Jb2A==
openid:oiS9X45fUbiQP23S1RCTFzYvM6kw
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"ttfHArQBu0M+CO\/SO6Jb2A==","openid":"oiS9X45fUbiQP23S1RCTFzYvM6kw"}
session_key:ttfHArQBu0M+CO/SO6Jb2A==
openid:oiS9X45fUbiQP23S1RCTFzYvM6kw
data.length=0
statusCode: 200
{"session_key":"ttfHArQBu0M+CO\/SO6Jb2A==","openid":"oiS9X45fUbiQP23S1RCTFzYvM6kw"}
session_key:ttfHArQBu0M+CO/SO6Jb2A==
openid:oiS9X45fUbiQP23S1RCTFzYvM6kw
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"wOy\/mKU8FQOZR4GpEeSxQA==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:wOy/mKU8FQOZR4GpEeSxQA==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"wOy\/mKU8FQOZR4GpEeSxQA==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:wOy/mKU8FQOZR4GpEeSxQA==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":5362455233169614000,"direction":0,"words_result_num":7,"words_result":[{"words":"南大长城校园卡","probability":{"variance":0.041177,"average":0.922783,"min":0.385908}},{"words":" HUNAN UNIVERSITY","probability":{"variance":0.000001,"average":0.999097,"min":0.998195}},{"words":"姓名:张祖瑜","probability":{"variance":0.000021,"average":0.997743,"min":0.987482}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.999277,"min":0.997662}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999655,"min":0.998739}},{"words":"中國銀行","probability":{"variance":0.000017,"average":0.996632,"min":0.989617}},{"words":" BANK OF CHINA","probability":{"variance":0.000535,"average":0.980222,"min":0.947782}}]}
{ code: '0072', message: '用户学生证匹配成功' }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:14368) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":5520165252010,"timestamp":1576230007,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"031c9a76485082ad556139904a62712e","location":{"left":300.8,"top":462.01,"width":490,"height":485,"rotation":0},"face_probability":1,"angle":{"yaw":-7.65,"pitch":7.95,"roll":-0.64},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":1018900184657,"timestamp":1576230017,"cached":0,"result":{"score":0,"face_list":[{"face_token":"031c9a76485082ad556139904a62712e"},{"face_token":"e0151103da9b2f0423c55378cd7ab4d2"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":2017594052500,"timestamp":1576230032,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"1641066073332380c58b7586e5253ec8","location":{"left":179,"top":339.93,"width":539,"height":542,"rotation":9},"face_probability":1,"angle":{"yaw":-2.43,"pitch":10.94,"roll":7.98},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":10011010545,"timestamp":1576230045,"cached":0,"result":{"score":0,"face_list":[{"face_token":"1641066073332380c58b7586e5253ec8"},{"face_token":"e0151103da9b2f0423c55378cd7ab4d2"}]}}
{ code: '0010', message: '用户人脸匹配失败，请重新验证' }
statusCode: 200
{"session_key":"RVAS8SFWIH17JYd05bIKfg==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:RVAS8SFWIH17JYd05bIKfg==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"1BSkLfQJCdNrFmopvaVoBw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:1BSkLfQJCdNrFmopvaVoBw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":1064418193963022700,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":1340423477586366700,"direction":0,"words_result_num":8,"words_result":[{"probability":{"variance":0.000009,"average":0.997142,"min":0.993039},"words":"湖南大"},{"probability":{"variance":0.000019,"average":0.997228,"min":0.98872},"words":"长城校园卡"},{"probability":{"variance":0,"average":0.999516,"min":0.999032},"words":" UNAN UNIVERSITY"},{"probability":{"variance":0,"average":0.999752,"min":0.998927},"words":"姓名:张祖瑜"},{"probability":{"variance":0.000001,"average":0.99917,"min":0.997423},"words":"学号:201726010227"},{"probability":{"variance":0,"average":0.999504,"min":0.998083},"words":"卡号:137112"},{"probability":{"variance":0.009751,"average":0.939121,"min":0.76826},"words":"中國銀行"},{"probability":{"variance":0,"average":1,"min":1},"words":" BANK OF CHINA"}]}
{ code: '0072', message: '用户学生证匹配成功' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"037Nq7e8Khx0fpB8IgwhOQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:037Nq7e8Khx0fpB8IgwhOQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"037Nq7e8Khx0fpB8IgwhOQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:037Nq7e8Khx0fpB8IgwhOQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":1837407413591828500,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":8499001254510,"timestamp":1576230382,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":3589655500194,"timestamp":1576230396,"cached":0,"result":{"score":91.37239838,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7"},{"face_token":"b6939fe3b406269bb13521836ad061ca"}]}}
student_user
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
user_info
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0011',
  message: '删除session_key和openid成功',
  data:
   OkPacket {
     fieldCount: 0,
     affectedRows: 1,
     insertId: 0,
     serverStatus: 2,
     warningCount: 0,
     message: '',
     protocol41: true,
     changedRows: 0 } }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":5505059920125,"timestamp":1576230406,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":5500194998994,"timestamp":1576230423,"cached":0,"result":{"score":91.37239838,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7"},{"face_token":"b6939fe3b406269bb13521836ad061ca"}]}}
(node:14368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'session_key' of undefined
    at /home/ubuntu/hutao/Back-end/model/check_face.js:76:55
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 7)
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":1545059925945,"timestamp":1576230437,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":1589799425556,"timestamp":1576230452,"cached":0,"result":{"score":91.37239838,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7"},{"face_token":"b6939fe3b406269bb13521836ad061ca"}]}}
(node:14368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'session_key' of undefined
    at /home/ubuntu/hutao/Back-end/model/check_face.js:76:55
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 8)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"gy9FBS8PLc9KUayfBT4SJQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:gy9FBS8PLc9KUayfBT4SJQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"gy9FBS8PLc9KUayfBT4SJQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:gy9FBS8PLc9KUayfBT4SJQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":1032774280259121500,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":6263656450392894000,"direction":0,"words_result_num":8,"words_result":[{"probability":{"variance":0.000009,"average":0.997142,"min":0.993039},"words":"湖南大"},{"probability":{"variance":0.000019,"average":0.997228,"min":0.98872},"words":"长城校园卡"},{"probability":{"variance":0,"average":0.999516,"min":0.999032},"words":" UNAN UNIVERSITY"},{"probability":{"variance":0,"average":0.999752,"min":0.998927},"words":"姓名:张祖瑜"},{"probability":{"variance":0.000001,"average":0.99917,"min":0.997423},"words":"学号:201726010227"},{"probability":{"variance":0,"average":0.999504,"min":0.998083},"words":"卡号:137112"},{"probability":{"variance":0.009751,"average":0.939121,"min":0.76826},"words":"中國銀行"},{"probability":{"variance":0,"average":1,"min":1},"words":" BANK OF CHINA"}]}
{ code: '0072', message: '用户学生证匹配成功' }
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":3601703637250425300,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":7289488807916676000,"direction":0,"words_result_num":8,"words_result":[{"probability":{"variance":0.000009,"average":0.997142,"min":0.993039},"words":"湖南大"},{"probability":{"variance":0.000019,"average":0.997228,"min":0.98872},"words":"长城校园卡"},{"probability":{"variance":0,"average":0.999516,"min":0.999032},"words":" UNAN UNIVERSITY"},{"probability":{"variance":0,"average":0.999752,"min":0.998927},"words":"姓名:张祖瑜"},{"probability":{"variance":0.000001,"average":0.99917,"min":0.997423},"words":"学号:201726010227"},{"probability":{"variance":0,"average":0.999504,"min":0.998083},"words":"卡号:137112"},{"probability":{"variance":0.009751,"average":0.939121,"min":0.76826},"words":"中國銀行"},{"probability":{"variance":0,"average":1,"min":1},"words":" BANK OF CHINA"}]}
{ code: '0072', message: '用户学生证匹配成功' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
(node:14368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'length' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/index.js:75:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 9)
statusCode: 200
{"session_key":"kVTgCmXGgHKbyyGDM\/+kxw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:kVTgCmXGgHKbyyGDM/+kxw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"kVTgCmXGgHKbyyGDM\/+kxw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:kVTgCmXGgHKbyyGDM/+kxw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":461670359544115100,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":4950354940029849000,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":3578529633465854000,"direction":0,"words_result_num":8,"words_result":[{"probability":{"variance":0.000009,"average":0.997142,"min":0.993039},"words":"湖南大"},{"probability":{"variance":0.000019,"average":0.997228,"min":0.98872},"words":"长城校园卡"},{"probability":{"variance":0,"average":0.999516,"min":0.999032},"words":" UNAN UNIVERSITY"},{"probability":{"variance":0,"average":0.999752,"min":0.998927},"words":"姓名:张祖瑜"},{"probability":{"variance":0.000001,"average":0.99917,"min":0.997423},"words":"学号:201726010227"},{"probability":{"variance":0,"average":0.999504,"min":0.998083},"words":"卡号:137112"},{"probability":{"variance":0.009751,"average":0.939121,"min":0.76826},"words":"中國銀行"},{"probability":{"variance":0,"average":1,"min":1},"words":" BANK OF CHINA"}]}
{ code: '0072', message: '用户学生证匹配成功' }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":10589358475,"timestamp":1576230924,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":9994849425991,"timestamp":1576230939,"cached":0,"result":{"score":91.37239838,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7"},{"face_token":"b6939fe3b406269bb13521836ad061ca"}]}}
student_user
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
user_info
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0011',
  message: '删除session_key和openid成功',
  data:
   OkPacket {
     fieldCount: 0,
     affectedRows: 1,
     insertId: 0,
     serverStatus: 2,
     warningCount: 0,
     message: '',
     protocol41: true,
     changedRows: 0 } }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":9400125559420,"timestamp":1576230947,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":3515001052599,"timestamp":1576230964,"cached":0,"result":{"score":91.37239838,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7"},{"face_token":"b6939fe3b406269bb13521836ad061ca"}]}}
(node:14368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'session_key' of undefined
    at /home/ubuntu/hutao/Back-end/model/check_face.js:76:55
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 10)
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":1575258915949,"timestamp":1576230978,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
statusCode: 200
{"session_key":"8udP2+Rk8B1QadX794PS4g==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:8udP2+Rk8B1QadX794PS4g==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":589056515844,"timestamp":1576230992,"cached":0,"result":{"score":91.37239838,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7"},{"face_token":"b6939fe3b406269bb13521836ad061ca"}]}}
(node:14368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'session_key' of undefined
    at /home/ubuntu/hutao/Back-end/model/check_face.js:76:55
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:14368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 11)
statusCode: 200
{"session_key":"8udP2+Rk8B1QadX794PS4g==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:8udP2+Rk8B1QadX794PS4g==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
Fri, 13 Dec 2019 10:04:25 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
0000000000000280
[ RowDataPacket {
    item_no: '0000000000000280',
    student_no: '201726010214',
    title: '键盘',
    description: 'kkkklk',
    price: 100,
    status: '已发布',
    publish_time: '2019-12-13 18:03:48',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000280',
       student_no: '201726010214',
       title: '键盘',
       description: 'kkkklk',
       price: 100,
       status: '已发布',
       publish_time: '2019-12-13 18:03:48',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张宏铭',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010214/0000000000000280_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000280', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"kNpBEXk1SfsFq7XpFrm4tQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:kNpBEXk1SfsFq7XpFrm4tQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"kNpBEXk1SfsFq7XpFrm4tQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:kNpBEXk1SfsFq7XpFrm4tQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"kNpBEXk1SfsFq7XpFrm4tQ==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:kNpBEXk1SfsFq7XpFrm4tQ==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":1659620131117275600,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:27764) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":515101842018,"timestamp":1576231560,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
(node:27764) UnhandledPromiseRejectionWarning: Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10)
(node:27764) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:27764) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:27764) UnhandledPromiseRejectionWarning: Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10)
(node:27764) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:27764) UnhandledPromiseRejectionWarning: Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10)
(node:27764) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"PbbOEUEbjD+\/h9iYPkqkWg==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:PbbOEUEbjD+/h9iYPkqkWg==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"PbbOEUEbjD+\/h9iYPkqkWg==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:PbbOEUEbjD+/h9iYPkqkWg==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
{ code: '0006', message: '用户学生证图片上传成功' }
{ Error: ESOCKETTIMEDOUT
    at ClientRequest.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/request/request.js:816:19)
    at Object.onceWrapper (events.js:273:13)
    at ClientRequest.emit (events.js:182:13)
    at TLSSocket.emitRequestTimeout (_http_client.js:662:40)
    at Object.onceWrapper (events.js:273:13)
    at TLSSocket.emit (events.js:182:13)
    at TLSSocket.Socket._onTimeout (net.js:453:8)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10) code: 'ESOCKETTIMEDOUT', connect: false }
{ code: '0001', message: '网络错误' }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
(node:27764) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'length' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/index.js:75:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:27764) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 4)
statusCode: 200
{"session_key":"blcasdcrt\/Oblq8jCPC1Ug==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:blcasdcrt/Oblq8jCPC1Ug==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"blcasdcrt\/Oblq8jCPC1Ug==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:blcasdcrt/Oblq8jCPC1Ug==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"RQnbaDRg0nilFOVKDmcTRg==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:RQnbaDRg0nilFOVKDmcTRg==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"RQnbaDRg0nilFOVKDmcTRg==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:RQnbaDRg0nilFOVKDmcTRg==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
Fri, 13 Dec 2019 10:18:25 GMT body-parser deprecated undefined extended: provide extended option at server.js:13:23
/home/ubuntu/hutao/Back-end/images/student_card
/home/ubuntu/hutao/Back-end/images/item
服务器启动成功！
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"0migQCu0yVjMxe6uTGeO4g==","openid":"oiS9X4xCTl6CjWxVs7vuaj_i0ADY"}
session_key:0migQCu0yVjMxe6uTGeO4g==
openid:oiS9X4xCTl6CjWxVs7vuaj_i0ADY
data.length=0
statusCode: 200
{"session_key":"JZzAH1u+rLClGHyI3UXFsg==","openid":"oiS9X4wIXCUs1pPRChTR9_xFbFHI"}
session_key:JZzAH1u+rLClGHyI3UXFsg==
openid:oiS9X4wIXCUs1pPRChTR9_xFbFHI
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' AND campus=?ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ '南校区', 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' AND campus=?ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ '南校区', 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' AND campus=?ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ '北校区', 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' AND campus=?ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ '北校区', 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ 0, 8 ]
price:1
credit:1
SELECT * FROM published_item WHERE title LIKE '%%' ORDER BY price DESC , seller_credit DESC LIMIT ?, ?
[ 0, 8 ]
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
0000000000000277
[ RowDataPacket {
    item_no: '0000000000000277',
    student_no: '201711020325',
    title: '电脑',
    description: '不想卖的电脑',
    price: 9000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:38',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000277',
       student_no: '201711020325',
       title: '电脑',
       description: '不想卖的电脑',
       price: 9000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:38',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000277_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000277_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000277', type: '电子设备', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"ReN6VVOMsl14yvSFBf\/5qw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:ReN6VVOMsl14yvSFBf/5qw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"session_key":"ReN6VVOMsl14yvSFBf\/5qw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:ReN6VVOMsl14yvSFBf/5qw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
data.length=0
statusCode: 200
{"errcode":40163,"errmsg":"code been used, hints: [ req_id: JIgFfXXBe-OwB9Va ]"}
session_key:undefined
openid:undefined
data.length=0
{ Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_BAD_NULL_ERROR',
  errno: 1048,
  sqlMessage: 'Column \'session_key\' cannot be null',
  sqlState: '23000',
  index: 0,
  sql:
   'INSERT INTO temp_session(session_key,openid) VALUES(NULL, NULL)' }
(node:29641) UnhandledPromiseRejectionWarning: Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:29641) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:29641) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
undefined
[]
jinru 
[]
(node:29641) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'seller_no' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/order_info.js:37:33
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:29641) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)
{ code: '0006', message: '用户学生证图片上传成功' }
{"log_id":196738243414874940,"direction":0,"words_result_num":8,"words_result":[{"words":"湖南大","probability":{"variance":0.000009,"average":0.997142,"min":0.993039}},{"words":"长城校园卡","probability":{"variance":0.000019,"average":0.997228,"min":0.98872}},{"words":" UNAN UNIVERSITY","probability":{"variance":0,"average":0.999516,"min":0.999032}},{"words":"姓名:张祖瑜","probability":{"variance":0,"average":0.999752,"min":0.998927}},{"words":"学号:201726010227","probability":{"variance":0.000001,"average":0.99917,"min":0.997423}},{"words":"卡号:137112","probability":{"variance":0,"average":0.999504,"min":0.998083}},{"words":"中國銀行","probability":{"variance":0.009751,"average":0.939121,"min":0.76826}},{"words":" BANK OF CHINA","probability":{"variance":0,"average":1,"min":1}}]}
{ code: '0072', message: '用户学生证匹配成功' }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0008', message: '用户活体照片上传成功' }
(node:29641) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
<faceverify>: {"error_code":0,"error_msg":"SUCCESS","log_id":7584155525754,"timestamp":1576232450,"cached":0,"result":{"thresholds":{"frr_1e-4":0.05,"frr_1e-3":0.3,"frr_1e-2":0.9},"face_liveness":1,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7","location":{"left":688.11,"top":1320.26,"width":715,"height":742,"rotation":-89},"face_probability":1,"angle":{"yaw":3.09,"pitch":0.97,"roll":-91.37},"liveness":{"livemapscore":1}}]}}
{ code: '0034', message: '获取个人信息成功', data: [] }
<match>: {"error_code":0,"error_msg":"SUCCESS","log_id":12017935751,"timestamp":1576232468,"cached":0,"result":{"score":91.37239838,"face_list":[{"face_token":"e9378d60abcf6624c53d9e9859a562a7"},{"face_token":"b6939fe3b406269bb13521836ad061ca"}]}}
student_user
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
user_info
OkPacket {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
https://wx.qlogo.cn/mmopen/vi_32/BUjbFSgc6Szf7nrqbJMwsR2IPuQCicoibwpulicDKUwkDtoJ4J8bvpqa0XPr3CjzvFfjutqlXLGIRicd5Ngcngibopw/132
{ code: '0011',
  message: '删除session_key和openid成功',
  data:
   OkPacket {
     fieldCount: 0,
     affectedRows: 1,
     insertId: 0,
     serverStatus: 2,
     warningCount: 0,
     message: '',
     protocol41: true,
     changedRows: 0 } }
statusCode: 200
{"session_key":"ReN6VVOMsl14yvSFBf\/5qw==","openid":"oiS9X43ZnsRn9vgI35-YAsbX5UxQ"}
session_key:ReN6VVOMsl14yvSFBf/5qw==
openid:oiS9X43ZnsRn9vgI35-YAsbX5UxQ
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
(node:29641) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'length' of undefined
    at /home/ubuntu/hutao/Back-end/router/second_hand/index.js:75:30
    at process._tickCallback (internal/process/next_tick.js:68:7)
(node:29641) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)
statusCode: 200
{"session_key":"RaVXeZ2uh5SWEail8d4qLw==","openid":"oiS9X45fUbiQP23S1RCTFzYvM6kw"}
session_key:RaVXeZ2uh5SWEail8d4qLw==
openid:oiS9X45fUbiQP23S1RCTFzYvM6kw
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"errcode":40029,"errmsg":"invalid code, hints: [ req_id: .fGFm44ce-VtAfqa ]"}
session_key:undefined
openid:undefined
data.length=0
{ Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_BAD_NULL_ERROR',
  errno: 1048,
  sqlMessage: 'Column \'session_key\' cannot be null',
  sqlState: '23000',
  index: 0,
  sql:
   'INSERT INTO temp_session(session_key,openid) VALUES(NULL, NULL)' }
(node:29641) UnhandledPromiseRejectionWarning: Error: ER_BAD_NULL_ERROR: Column 'session_key' cannot be null
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:29641) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 4)
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"GwZoVZ3u+3lFMnKHNVXgHg==","openid":"oiS9X41sOvqwGSlqYhbhg9hNyp0E"}
session_key:GwZoVZ3u+3lFMnKHNVXgHg==
openid:oiS9X41sOvqwGSlqYhbhg9hNyp0E
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000280
[ RowDataPacket {
    item_no: '0000000000000280',
    student_no: '201726010214',
    title: '键盘',
    description: 'kkkklk',
    price: 100,
    status: '已发布',
    publish_time: '2019-12-13 18:03:48',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000280',
       student_no: '201726010214',
       title: '键盘',
       description: 'kkkklk',
       price: 100,
       status: '已发布',
       publish_time: '2019-12-13 18:03:48',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '张宏铭',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/8EV76DxlQiazS40ufJ9pqQQxyIkdSsHLPiap3ea6d1oYHNN6JalkvcSXJVMNXicK3fBLkJuK8RKOOvagFBsWq9n6A/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201726010214/0000000000000280_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000280', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000279
[ RowDataPacket {
    item_no: '0000000000000279',
    student_no: '201711020325',
    title: '衣服',
    description: '旧衣服看一下\n\n\n反正不卖',
    price: 200,
    status: '已发布',
    publish_time: '2019-12-13 16:30:56',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000279',
       student_no: '201711020325',
       title: '衣服',
       description: '旧衣服看一下\n\n\n反正不卖',
       price: 200,
       status: '已发布',
       publish_time: '2019-12-13 16:30:56',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000279_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000279', type: '箱包服饰', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"GwZoVZ3u+3lFMnKHNVXgHg==","openid":"oiS9X41sOvqwGSlqYhbhg9hNyp0E"}
session_key:GwZoVZ3u+3lFMnKHNVXgHg==
openid:oiS9X41sOvqwGSlqYhbhg9hNyp0E
data.length=0
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"a\/0dVjdXdoIQ94hUj6Gssw==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:a/0dVjdXdoIQ94hUj6Gssw==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
statusCode: 200
{"session_key":"a\/0dVjdXdoIQ94hUj6Gssw==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:a/0dVjdXdoIQ94hUj6Gssw==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
statusCode: 200
{"session_key":"a\/0dVjdXdoIQ94hUj6Gssw==","openid":"oiS9X40TzQG0ylbxu3uDWEDlJnYM"}
session_key:a/0dVjdXdoIQ94hUj6Gssw==
openid:oiS9X40TzQG0ylbxu3uDWEDlJnYM
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000277
[ RowDataPacket {
    item_no: '0000000000000277',
    student_no: '201711020325',
    title: '电脑',
    description: '不想卖的电脑',
    price: 9000,
    status: '已发布',
    publish_time: '2019-12-13 16:29:38',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 2 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000277',
       student_no: '201711020325',
       title: '电脑',
       description: '不想卖的电脑',
       price: 9000,
       status: '已发布',
       publish_time: '2019-12-13 16:29:38',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 2 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000277_1.JPG',
        'http://132.232.81.249:81/images/item/201711020325/0000000000000277_2.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000277', type: '电子设备', grade: 10 } ],
  messages: { data: [] } }
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
0000000000000272
[ RowDataPacket {
    item_no: '0000000000000272',
    student_no: '201711020325',
    title: '我的第一个东西',
    description: '哈哈哈哈',
    price: 10000,
    status: '已发布',
    publish_time: '2019-12-13 14:31:52',
    campus: '南校区',
    dormitory: '天马园区',
    img_count: 1 } ]
{ code: '0018',
  message: '商品详情加载成功',
  collect: '0',
  data:
   [ RowDataPacket {
       item_no: '0000000000000272',
       student_no: '201711020325',
       title: '我的第一个东西',
       description: '哈哈哈哈',
       price: 10000,
       status: '已发布',
       publish_time: '2019-12-13 14:31:52',
       campus: '南校区',
       dormitory: '天马园区',
       img_count: 1 } ],
  seller:
   [ RowDataPacket {
       user_name: '想不出名字',
       credit: 100,
       portrait_href:
        'https://wx.qlogo.cn/mmopen/vi_32/Kyt8uAicHLTicplIPqic2nrqgBkrANTxcewl5GMhbiaTVIHL2dtR3FlyFNTlAIVZKiaOa837yHGEfMfiaecSKaAALHRA/132' } ],
  images:
   { swiperImg:
      [ 'http://132.232.81.249:81/images/item/201711020325/0000000000000272_1.JPG' ] },
  tag:
   [ RowDataPacket { item_no: '0000000000000272', type: '生活用品', grade: 10 } ],
  messages: { data: [] } }
已发布
1
{ Error: ER_NO_REFERENCED_ROW_2: Cannot add or update a child row: a foreign key constraint fails (`hutao`.`order_info`, CONSTRAINT `order_info_ibfk_6` FOREIGN KEY (`buyer_no`, `address_no`) REFERENCES `user_address` (`student_no`, `address_no`) ON DELETE CASCADE ON UPDATE CASCADE)
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
  code: 'ER_NO_REFERENCED_ROW_2',
  errno: 1452,
  sqlMessage:
   'Cannot add or update a child row: a foreign key constraint fails (`hutao`.`order_info`, CONSTRAINT `order_info_ibfk_6` FOREIGN KEY (`buyer_no`, `address_no`) REFERENCES `user_address` (`student_no`, `address_no`) ON DELETE CASCADE ON UPDATE CASCADE)',
  sqlState: '23000',
  index: 0,
  sql:
   'INSERT INTO order_info(item_no, seller_no, buyer_no, exchange_time, address_no, price) VALUES(\'0000000000000272\', \'201711020325\', \'201726010214\', \'2019-12-15 17:27:44\', \'0000000000000001\', \'10000\')' }
(node:29641) UnhandledPromiseRejectionWarning: Error: ER_NO_REFERENCED_ROW_2: Cannot add or update a child row: a foreign key constraint fails (`hutao`.`order_info`, CONSTRAINT `order_info_ibfk_6` FOREIGN KEY (`buyer_no`, `address_no`) REFERENCES `user_address` (`student_no`, `address_no`) ON DELETE CASCADE ON UPDATE CASCADE)
    at Query.Sequence._packetToError (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Query.ErrorPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
    --------------------
    at Protocol._enqueue (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at PoolConnection.query (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:201:25)
    at /home/ubuntu/hutao/Back-end/model/query.js:20:24
    at Ping.onOperationComplete (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Pool.js:110:5)
    at Ping.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Ping._callback (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:491:16)
    at Ping.Sequence.end (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Ping.Sequence.OkPacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/sequences/Sequence.js:92:8)
    at Protocol._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:91:28)
    at Socket.<anonymous> (/home/ubuntu/hutao/Back-end/node_modules/mysql/lib/Connection.js:525:10)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
(node:29641) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 5)
待付款
待付款
待付款
待付款
待付款
待付款
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
price:0
credit:0
SELECT * FROM published_item WHERE title LIKE '%%' LIMIT ?, ?
[ 0, 8 ]
